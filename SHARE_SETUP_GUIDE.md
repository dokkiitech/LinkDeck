# LinkDeck URL共有機能 セットアップガイド

LinkDeckは、他のアプリからURLを簡単に保存できる共有機能を提供します。このガイドでは、iOSショートカットを使ってWebページをLinkDeckに保存する方法を説明します。

## 前提条件

- LinkDeckアプリがインストールされていること
- iOSデバイス（iPhone/iPad）
- iOSショートカットアプリ（標準でインストールされています）

---

## 📱 方法1：iOSショートカットを使用（推奨）

### ステップ1: ショートカットを作成

1. **ショートカットアプリ**を開く
2. 右上の「**+**」ボタンをタップ
3. 「**アクションを追加**」をタップ

### ステップ2: アクションを設定

#### アクション1: 入力を受け取る
1. 検索バーで「**入力を受け取る**」を検索して追加
2. 「**どこからでも**」をタップして「**共有シート**」に変更
3. 「**テキスト**」と「**URL**」にチェックを入れる

#### アクション2: URLをエンコード
1. 検索バーで「**URL**」を検索
2. 「**URLをエンコード**」を選択して追加
3. 「**ショートカット入力**」が選択されていることを確認

#### アクション3: テキスト処理
1. 検索バーで「**テキスト**」を検索
2. 「**テキスト**」を選択して追加
3. テキストフィールドに以下を入力：
   ```
   linkdeck://share?url=
   ```
4. テキストの後ろに変数を追加：
   - 変数ボタンをタップ
   - 「**エンコード済みURL**」を選択

#### アクション4: URLを開く
1. 検索バーで「**URLを開く**」を検索して追加
2. 「**テキスト**」が選択されていることを確認

### ステップ3: ショートカット名を設定

1. 上部の「**新規ショートカット**」をタップ
2. 「**LinkDeckに保存**」など、わかりやすい名前に変更
3. アイコンと色もカスタマイズ可能

### ステップ4: 完成！

右上の「**完了**」をタップして保存します。

---

## 🎯 使い方

### Safari、Chrome、その他のアプリから保存

1. 保存したいWebページを開く
2. **共有ボタン**（□に↑のアイコン）をタップ
3. 作成したショートカット「**LinkDeckに保存**」を選択
4. LinkDeckアプリが起動し、URLが自動的に保存されます

### 初回使用時

初回使用時には、ショートカットアプリの権限確認が表示される場合があります。「**許可**」をタップしてください。

---

## 🔧 高度な設定（オプション）

### タイトルも一緒に送る

タイトルも一緒に送りたい場合は、以下のように設定できます：

**テキスト処理のステップを以下に変更：**
```
linkdeck://share?url=[エンコード済みURL]&title=[Webページのタイトル]
```

**追加手順：**
1. 「**URLをエンコード**」の後に、もう一つ「**URLをエンコード**」を追加
2. 2つ目のエンコードでは、検索バーで「**Webページ**」を検索
3. 「**Webページの詳細を取得**」を追加
4. 「**名前**」を選択
5. テキスト処理で`&title=`の後に「**エンコード済みURL（2つ目）**」を追加

---

## 📝 方法2：ブックマークレット（Safari限定）

### ステップ1: ブックマークを作成

1. Safariで任意のページをブックマークに追加
2. 「**ブックマークを編集**」から名前を「**LinkDeckに保存**」に変更

### ステップ2: JavaScriptを設定

1. ブックマークのURLフィールドに以下を貼り付け：

```javascript
javascript:window.location='linkdeck://share?url='+encodeURIComponent(window.location.href)+'&title='+encodeURIComponent(document.title);void(0);
```

### 使い方

1. Safariで保存したいページを開く
2. ブックマークから「**LinkDeckに保存**」をタップ
3. LinkDeckアプリが起動してURLが保存されます

---

## ⚠️ トラブルシューティング

### 「このショートカットを実行できませんでした」と表示される

**原因**：LinkDeckアプリがインストールされていない、または起動できない

**解決策**：
- LinkDeckアプリがインストールされているか確認
- アプリを一度開いてからもう一度試す

### URLが保存されない

**原因**：ログインしていない、またはネットワークエラー

**解決策**：
- LinkDeckアプリを開いてログイン状態を確認
- インターネット接続を確認

### 共有メニューにショートカットが表示されない

**解決策**：
1. 共有メニューを下までスクロール
2. 「**ショートカットを編集**」をタップ
3. 「**LinkDeckに保存**」をオンにする

---

## 💡 活用のヒント

### 1. ホーム画面にショートカットを追加
ショートカットアプリで作成したショートカットを長押しして「**ホーム画面に追加**」することで、ウィジェットのように使えます。

### 2. Siriで起動
ショートカットには「**Siriに追加**」機能があるため、「Hey Siri、LinkDeckに保存」のような音声コマンドで起動できます。

### 3. 自動化と組み合わせ
iOSの「**オートメーション**」機能と組み合わせて、特定の条件でLinkDeckに自動保存することも可能です。

---

## 🔮 今後の予定

将来的には、iOS Share Extension（完全なネイティブ共有機能）の実装を予定しています。実装されれば、ショートカット不要で標準の共有メニューから直接LinkDeckを選択できるようになります。

---

## 📞 サポート

問題が解決しない場合は、GitHubのIssueまでお問い合わせください。

**Happy Linking! 🔗**
